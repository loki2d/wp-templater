# Система быстрого прототипирования модулей на основе webpack
## Структура файлов

frontend
  layouts
    | шаблоны обвязки .jade
  modules 
    | Модули
    moduleName
      |.css - стили
      |.[jade, xsl] 
      |.js
      |data.json - данные
      |.md - описание модул
  routes
    | Сгенерированые странички
  styles
    | Стили для основных обвязок
  templates
    | Папка с шаблонами в формате json, тут лежат заготовки страниц которые можно генерировать командами из строки. 
    | Имя файла должно соотвествовать названию шаблона
public
    | Вся статика.
run
packege.json
server.js
webpack.config.js

## как работает 

### Рутер
Запускается сервет который смотрит на index.html в папке public. В нем подключется файл js генерируемый webpack. Сервер настроен на автоматическое отслеживание изменений в папке frontend.

Скрипт сначала подключает файл app.js в котором происходит посик маршрута из ссылки к которой обратился клиент. 
В зависимости адреса дергается нужный файл из папки routes (эти файлы генерируются из комндной строки по шаблону из папки templates) таким образом отркываются страницы наполенные модулями. 

### Модули
Модуль создается по средствам класса содержашимся в файле module.js. Метод render отрисовывает модуль так, чтобы была возможность отрисовать так-же все вложенные модули. 

Так же модуль может быть встален в специально определенные места вставки по ID блока или с явным указанием селектора вставки (свойство place);

Модули могут содержать свойства по умолчанию и переопределенные свойства. Переопределить свойства можно  как в теле модуля так и в месте вызова передав в конструктор соотрвестующий объект. 

Модуль как правила состоит из 3 или 4х файлов. Шаблон, стили, скрипт вызова и логика, возможно файл с статическими данными для отрисовки. 

Шаблоны сейчас поддерживаются в формате xslt и jade(pug) 


В системе есть предподготовленные странички как стенды для добавления и работы с модулями, Есть роутер для передвижения и прелинковки созданных страниц, Набор готовых модулей со всеми необхадимыми технологиями (пока есть html, xslt, css, jade, babel, PostCSS может что-то еще). Созданы несколько простых команд для создания типовых страниц с заготовленными модулями и возможностью расширять базу этих самых модулей. Лейаут(шаблон страници) генерится из json конфига. Описание работы каждой части системы приведены ниже. 

пока хочется сказать, что система не готова к серьёзному использованию и требует пересмотра в организции и хранении шаблонов лайаутов. Есть готовые решение на базе bem (bem_design) которые тоже в сыром варианте есть на githab 
 


команды:
npm run server - запуск сервер;
npm run newpage - создать новую страницу по готовому шаблону.
